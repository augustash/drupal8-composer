"use strict";function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=_superPropBase(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var ExoManager=function(){function e(){_classCallCheck(this,e),this.label="ExoManager",this.doDebug=!1,this.settingsGroup="",this.instanceSettingsGroup="",this.ready=!1,this.build()}return _createClass(e,[{key:"build",value:function(){this.instances=new ExoCollection}},{key:"attach",value:function(e){var n=this;return this.ready=!1,new Promise(function(t,e){n.debug("log","Attach: Start",n.settingsGroup,n.instanceSettingsGroup),n.buildInstances().then(function(e){n.ready=!0,t(e),n.debug("info","Attach: Finish",e)})})}},{key:"buildInstances",value:function(){var s=this;return new Promise(function(t,e){var n=[],i=s.getSettingsGroup(s.instanceSettingsGroup);if(null===i||Array.isArray(i)&&!i.length||"object"===_typeof(i)&&jQuery.isEmptyObject(i))return s.debug("log","Build Instances: Empty"),void t(!0);for(var o in s.debug("log","Build Instances: Start",i),s.time=Date.now(),i)i.hasOwnProperty(o)&&n.push(s.buildInstance(o,i[o]));Promise.all(n).then(function(e){s.debug("info","Build Instances: Finish",e),s.time=Date.now(),t(!0)},function(e){t(!1)})})}},{key:"buildInstance",value:function(n,i){var o=this,s=this.instances.getById(n);return s||(s=this.createInstance(n,i),this.addInstance(n,s)),new Promise(function(t,e){i._exoTime=o.time,o.debug("log","Build Instance: Start","["+n+"]",i),s.build(i).then(function(e){o.debug("info","Build Instance: Finish","["+n+"]",status),null!==e&&(""!==o.instanceSettingsGroup&&o.purgeSetting(o.instanceSettingsGroup,n),s.afterBuild()),t(!0)},e)})}},{key:"create",value:function(n,i){var o=this;return new Promise(function(t,e){o.buildInstance(n,i).then(function(e){t(e)})})}},{key:"isReady",value:function(){var n=this;return new Promise(function(t,e){!function e(){!0===n.ready?(n.debug("info","Is Ready"),t(n.getInstances())):setTimeout(e,20)}()})}},{key:"createInstance",value:function(e,t){return new this.instanceClass(e)}},{key:"addInstance",value:function(e,t){this.instances.add(e,t)}},{key:"removeInstance",value:function(e){this.instances.remove(e)}},{key:"getInstances",value:function(){return this.instances}},{key:"getInstance",value:function(e){return this.getInstances().getById(e)}},{key:"getSettingsGroup",value:function(e){return drupalSettings[this.settingsGroup]&&drupalSettings[this.settingsGroup][e]?drupalSettings[this.settingsGroup][e]:null}},{key:"purgeSettingsGroup",value:function(e){return drupalSettings[this.settingsGroup]&&drupalSettings[this.settingsGroup][e]&&(this.debug("warn","Purge Settings Group",this.settingsGroup,e),delete drupalSettings[this.settingsGroup][e]),this}},{key:"getSetting",value:function(e,t){var n=this.getSettingsGroup(e);return n&&n[t]?n[t]:null}},{key:"purgeSetting",value:function(e,t){var n=this.getSettingsGroup(e);return n&&n[t]&&(this.debug("warn","Purge Settings",e,t,n[t]),delete n[t]),this}},{key:"debug",value:function(e){if(!0===this.doDebug){for(var t,n=arguments.length,i=new Array(1<n?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];(t=Drupal.Exo).debug.apply(t,[e,this.label].concat(i))}}}]),e}(),ExoCollection=function(){function t(e){_classCallCheck(this,t),this._items={},e&&(this._items=e)}return _createClass(t,[{key:"add",value:function(e,t){return this._items[e]=t,this}},{key:"remove",value:function(e){return delete this._items[e],this}},{key:"each",value:function(e){return _.each(this.getAll(),e),this}},{key:"count",value:function(){return _.keys(this._items).length}},{key:"has",value:function(e){return void 0!==this._items[e]}},{key:"getAll",value:function(){return this._items}},{key:"getFirst",value:function(){if(!this.count())return null;var e=this.getAll();return e[_.keys(e)[0]]}},{key:"getLast",value:function(){if(!this.count())return null;var e=this.getAll();return e[_.keys(e)[_.keys(e).length-1]]}},{key:"getNext",value:function(e,t){var n=this.getAll(),i=_.keys(n),o=i.indexOf(e);return void 0!==n[i[o+1]]?n[i[o+1]]:t?this.getFirst():null}},{key:"getPrev",value:function(e,t){var n=this.getAll(),i=_.keys(n),o=i.indexOf(e);return void 0!==n[i[o-1]]?n[i[o-1]]:t?this.getLast():null}},{key:"getById",value:function(e){return this.has(e)?this._items[e]:null}},{key:"getByDelta",value:function(e){var t=this.getAll(),n=_.keys(t);return n[e]?t[n[e]]:null}}]),t}(),ExoData=function(){function t(e){_classCallCheck(this,t),this.label="ExoData",this.doDebug=!1,this.dataOriginal={},this.data={},this.defaults={},this.events={},this.id=e}return _createClass(t,[{key:"build",value:function(i,o){var s=this;return o=!1!==o,new Promise(function(e,t){if(i=jQuery.extend(!0,{},i),s.debug("log","Build: Start","["+s.id+"]",i),_.isEqual(i,s.dataOriginal))s.debug("warn","Build: Skip (same data)","["+s.id+"]",i,s.dataOriginal),t();else{var n=jQuery.extend(!0,{},i);o&&(i=s.difference(i,s.dataOriginal)),i=jQuery.extend(!0,{},s.defaults,i),i=Drupal.Exo.cleanData(i,s.defaults),s.data=jQuery.extend(!0,{},s.data,i),s.dataOriginal=n,s.debug("info","Build: Finish","["+s.id+"]",s.data),e(i)}})}},{key:"afterBuild",value:function(){}},{key:"get",value:function(e){return void 0!==this.data[e]?this.data[e]:null}},{key:"set",value:function(e,t){return this.data[e]=t,this}},{key:"getId",value:function(){return this.id}},{key:"getData",value:function(){return this.data}},{key:"getWeight",value:function(){return this.get("weight")}},{key:"setWeight",value:function(e){return this.set("weight",e),this}},{key:"event",value:function(e){return void 0!==this.events[e]?this.events[e].expose():null}},{key:"difference",value:function(e,t){return function n(e,i){return _.pick(_.mapObject(e,function(e,t){return _.isEqual(e,i[t])?null:_.isObject(e)&&_.isObject(i[t])?n(e,i[t]):e}),function(e){return null!==e})}(e,t)}},{key:"debug",value:function(e){if(!0===this.doDebug){for(var t,n=arguments.length,i=new Array(1<n?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];(t=Drupal.Exo).debug.apply(t,[e,this.label].concat(i))}}}]),t}(),ExoDataManager=function(){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,ExoManager),_createClass(e,[{key:"build",value:function(){this.instances=new ExoDataCollection}},{key:"addInstance",value:function(e,t){this.instances.add(t)}}]),e}(),ExoDataCollection=function(){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,ExoCollection),_createClass(t,[{key:"add",value:function(e){return e instanceof ExoData&&(_get(_getPrototypeOf(t.prototype),"add",this).call(this,e.getId(),e),this._items=this.sortKeysBy(this._items,function(e,t){return e.getWeight()})),this}},{key:"elements",value:function(){if(!this.$elements){var e=[];for(var t in this._items)e.push(this._items[t].getSelector());this.$elements=jQuery(e.join(", "))}return this.$elements}},{key:"getData",value:function(){var t={};return this.each(function(e){t[e.getId()]=e.getData()}),t}},{key:"sortKeysBy",value:function(t,n){var e=_.sortBy(_.keys(t),function(e){return n?n(t[e],e):e});return _.object(e,_.map(e,function(e){return t[e]}))}}]),t}(),ExoEvent=function(){function e(){_classCallCheck(this,e),this.handlers={}}return _createClass(e,[{key:"on",value:function(e,t){this.handlers[e]=t}},{key:"off",value:function(e){delete this.handlers[e]}},{key:"trigger",value:function(e){for(var t in this.handlers)void 0!==this.handlers[t]?this.handlers[t](e):console.log(t,this)}},{key:"expose",value:function(){return this}}]),e}();!function(u,o,s,n){var e=function(){function e(){var n=this;_classCallCheck(this,e),this.label="Exo",this.doDebug=!1,this.resizeCallbacks={},this.initPromises=[],this.revealPromises=[],this.initialized=!1,this.shadowUsage=0,this.shadowCallbacks=[],this._isMobile=null,this.events={init:new ExoEvent,ready:new ExoEvent,reveal:new ExoEvent,breakpoint:new ExoEvent},this.speed=300,this.breakpoint={min:null,max:null,name:null},this.$window=u(window),this.$document=u(document),this.$body=u("body"),this.$exoBody=u("#exo-body"),this.$exoCanvas=u("#exo-canvas"),this.$exoContent=u("#exo-content"),this.$exoShadow=u("#exo-shadow"),this.animationEvent=this.whichAnimationEvent(),this.transitionEvent=this.whichTransitionEvent(),this.refreshBreakpoint(),this.$exoShadow.on("click.exoShowShadow",function(e){var t=n.shadowCallbacks[n.shadowCallbacks.length-1];t&&t(e)}),this.isFirefox()?this.$body.addClass("is-firefox"):this.isIE()&&this.$body.addClass("is-ie"),this.isTouch()?this.$body.addClass("has-touch"):this.$body.addClass("no-touch")}return _createClass(e,[{key:"init",value:function(){var e=this;this.debug("log",this.label,"Init"),setTimeout(function(){e.doInit()})}},{key:"doInit",value:function(){var t=this;this.event("init").trigger(),this.onResize();var n=setTimeout(function(){t.ready()},3e3);this.debug("log",this.label,"Init Promises",this.initPromises),Promise.all(this.initPromises).then(function(e){clearTimeout(n),setTimeout(function(){t.ready()})}),this.$exoBody.imagesLoaded(function(){!0===t.initialized&&t.displaceContent(),setTimeout(function(){void 0!==s.drimage&&s.drimage.init()})});var i=o.throttle(function(){t.onResize()},99);this.$window.on("resize.exo",function(e){t.refreshBreakpoint(),i()})}},{key:"ready",value:function(){var t=this;this.debug("log",this.label,"Ready"),this.initialized=!0,this.$body.addClass("exo-ready"),this.event("ready").trigger(),this.$document.trigger("exoReady"),this.displaceContent(),this.resizeContent(),window.localStorage&&(window.localStorage.setItem("exoBodySize",JSON.stringify(n.offsets)),window.localStorage.setItem("exoContentHeight",String(this.$exoContent.height()))),this.debug("log",this.label,"Reveal Promises",this.revealPromises),Promise.all(this.revealPromises).then(function(e){t.debug("log",t.label,"Reveal"),t.event("reveal").trigger(),t.$document.trigger("exoReveal")})}},{key:"isInitialized",value:function(){return this.initialized}},{key:"addInitWait",value:function(e){this.debug("log",this.label,"Init Wait Added"),this.initPromises.push(e)}},{key:"addRevealWait",value:function(e){this.debug("log",this.label,"Reveal Wait Added"),this.revealPromises.push(e)}},{key:"getBodyElement",value:function(){return this.$exoBody}},{key:"onResize",value:function(){if(this.debug("log",this.label,"onResize"),s.ExoDisplace.calculate(),!0===this.initialized)for(var e in this.displaceContent(),this.resizeContent(),this.resizeCallbacks)this.resizeCallbacks.hasOwnProperty(e)&&this.resizeCallbacks[e]();this.checkElementPosition()}},{key:"addOnResize",value:function(e,t){this.resizeCallbacks[e]=t}},{key:"removeOnResize",value:function(e){void 0!==this.resizeCallbacks[e]&&delete this.resizeCallbacks[e]}},{key:"displaceContent",value:function(e){e=e||n.offsets,this.debug("log",this.label,"displaceContent",e),this.$exoBody.css({paddingTop:n.offsets.top,paddingBottom:n.offsets.bottom,paddingLeft:n.offsets.left,paddingRight:n.offsets.right})}},{key:"resizeContent",value:function(){var e=this.$window.height()-(parseInt(this.$exoBody.css("paddingTop"))+parseInt(this.$exoBody.css("paddingBottom")));this.debug("log",this.label,"resizeContent",e),this.$exoContent.css("min-height",e)}},{key:"showShadow",value:function(n){var i=this;return n=o.extend({opacity:.8,onClick:null},n),this.shadowUsage++,n.onClick&&this.shadowCallbacks.push(n.onClick),new Promise(function(e,t){clearTimeout(i.exoShadowTimeout),i.$exoShadow.addClass("active"),i.exoShadowTimeout=setTimeout(function(){i.$exoShadow.addClass("animate").css("opacity",n.opacity),e()},20)})}},{key:"hideShadow",value:function(){var n=this;return new Promise(function(e,t){n.shadowUsage--,n.shadowCallbacks.pop(),n.shadowUsage<=0?(n.shadowUsage=0,n.shadowCallbacks=[],clearTimeout(n.exoShadowTimeout),n.$exoShadow.removeClass("animate").css("opacity",0),n.exoShadowTimeout=setTimeout(function(){n.$exoShadow.removeClass("active"),e()},n.speed)):e()})}},{key:"trackElementPosition",value:function(e,t,n){var i=this;e instanceof HTMLElement&&(e=u(e)),e.once("exo.track.position").length&&(this.$elementPositions||(this.$elementPositions=u(),this.$window.on("scroll.exo",o.throttle(function(e){return i.checkElementPositionOnScroll()},99))),t&&e.data("exoInViewportCallback",t),n&&e.data("exoOutViewportCallback",n),e.imagesLoaded(function(){i.$elementPositions=i.$elementPositions.add(e),i.checkElementPosition()}))}},{key:"untrackElementPosition",value:function(e){this.$elementPositions&&this.$elementPositions.length&&(e instanceof HTMLElement&&(e=u(e)),this.$elementPositions=this.$elementPositions.not(e))}},{key:"checkElementPosition",value:function(){var s=this;void 0!==this.$elementPositions&&this.$elementPositions.length&&(this.$elementPositions.each(function(e,t){var n=u(t),i=Math.round(n.offset().top),o=i+n.outerHeight();i<0&&(i=0,o=s.$document.height()),n.data("exoPosition",{in:i,out:o})}),this.checkElementPositionOnScroll())}},{key:"checkElementPositionOnScroll",value:function(){if(this.$elementPositions&&this.$elementPositions.length){var r=Math.round(this.$document.scrollTop()+n.offsets.top),e=Math.round(s.Exo.$window.height()-n.offsets.top-n.offsets.bottom),l=r+e;this.$elementPositions.each(function(e,t){var n=u(t),i=n.data("exoActive"),o=n.data("exoPosition");if(r<o.out&&l>o.in){if(!i){n.data("exoActive",!0);var s=n.data("exoInViewportCallback");"function"==typeof s&&s(n)}}else if(i){n.data("exoActive",!1);var a=n.data("exoOutViewportCallback");"function"==typeof a&&a(n)}})}}},{key:"refreshBreakpoint",value:function(){var n={};String(window.getComputedStyle(document.querySelector("body"),":before").getPropertyValue("content")).split("|").forEach(function(e){var t=e.replace('"',"").split(":");n[t[0]]=t[1]}),n.min!==this.breakpoint.min&&(this.breakpoint=n,this.event("breakpoint").trigger(n))}},{key:"lockOverflow",value:function(e){e?(e instanceof HTMLElement&&(e=u(e)),bodyScrollLock.disableBodyScroll(e.get(0))):(u("html").addClass("exo-lock-overflow"),this.isMobile()&&this.$body.css("overflow","hidden"))}},{key:"unlockOverflow",value:function(e){e?(e instanceof HTMLElement&&(e=u(e)),bodyScrollLock.enableBodyScroll(e.get(0))):(u("html").removeClass("exo-lock-overflow"),this.isMobile()&&this.$body.css("overflow",""))}},{key:"getMeasurementValue",value:function(e){return parseInt(String(e).split(/%|px|em|cm|vh|vw/)[0])}},{key:"getMeasurementUnit",value:function(e){return String(e).match(/[\d.\-\+]*\s*(.*)/)[1]||""}},{key:"getPxFromEm",value:function(e){return(e=this.getMeasurementValue(String(e)))*parseFloat(getComputedStyle(document.querySelector("body"))["font-size"])}},{key:"isIE",value:function(e){if(9===e)return-1!==navigator.appVersion.indexOf("MSIE 9.");var t=navigator.userAgent;return-1<t.indexOf("MSIE ")||-1<t.indexOf("Trident/")}},{key:"isMobile",value:function(){if(null===this._isMobile){var e=!1;t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),this._isMobile=e}var t;return this._isMobile}},{key:"isFirefox",value:function(){return-1<navigator.userAgent.toLowerCase().indexOf("firefox")}},{key:"isIos",value:function(){return/iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isIpadOs",value:function(){return/iPad/.test(navigator.userAgent)&&!window.MSStream}},{key:"isSafari",value:function(){return void 0!==window.safari&&!this.isIos()&&!this.isIpadOs()}},{key:"isTouch",value:function(){return"ontouchstart"in document.documentElement}},{key:"whichAnimationEvent",value:function(){var e,t=document.createElement("fakeelement"),n={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in n)if(void 0!==t.style[e])return n[e]}},{key:"guid",value:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}},{key:"whichTransitionEvent",value:function(){var e,t=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(void 0!==t.style[e])return n[e]}},{key:"event",value:function(e){return void 0!==this.events[e]?this.events[e].expose():null}},{key:"stringToCallback",value:function(e){var t=null;if("string"==typeof e){var n=e.split("."),i=window;n.forEach(function(e){i[e]&&("function"==typeof i[e]&&"object"===_typeof(i)?t={object:i,function:e}:i=i[e])})}return t}},{key:"cleanData",value:function(n,i){return jQuery.each(n,function(e,t){"true"==t?n[e]=!0:"false"==t?n[e]=!1:"1"!==t&&1!==t||"boolean"!=typeof i[e]?"0"!==t&&0!==t||"boolean"!=typeof i[e]?/^\d+$/.test(t)&&(n[e]=parseInt(t)):n[e]=!1:n[e]=!0}),n}},{key:"toCamel",value:function(e){return e.replace(/[-_]+([a-z])/g,function(e){return e[1].toUpperCase()})}},{key:"toSnake",value:function(e){return e.replace(/([A-Z])/g,"_$1").toLowerCase()}},{key:"toDashed",value:function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}},{key:"debug",value:function(e,t){var n,i,o,s;if(t!==this.label||!1!==this.doDebug){for(var a=arguments.length,r=new Array(2<a?a-2:0),l=2;l<a;l++)r[l-2]=arguments[l];switch(e){case"info":(n=console).info.apply(n,["[eXo "+t+"]"].concat(r));break;case"warn":(i=console).warn.apply(i,["[eXo "+t+"]"].concat(r));break;case"error":(o=console).error.apply(o,["[eXo "+t+"]"].concat(r));break;default:(s=console).log.apply(s,["[eXo "+t+"]"].concat(r))}}}}]),e}();s.Exo=new e;var t=function(){function e(){_classCallCheck(this,e),this.offsets={top:0,right:0,bottom:0,left:0},this.events={calculate:new ExoEvent,changed:new ExoEvent}}return _createClass(e,[{key:"calculate",value:function(){var e=this.calculateOffsets(),t=e!==this.offsets;return this.offsets=e,this.event("calculate").trigger(this.offsets),t&&this.broadcast(),this.offsets}},{key:"broadcast",value:function(){this.event("changed").trigger(this.offsets)}},{key:"calculateOffsets",value:function(){return{top:this.calculateOffset("top"),right:this.calculateOffset("right"),bottom:this.calculateOffset("bottom"),left:this.calculateOffset("left")}}},{key:"calculateOffset",value:function(e){for(var t=0,n=document.querySelectorAll("[data-exo-edge='".concat(e,"']")),i=n.length,o=0;o<i;o++){var s=n[o];if("none"!==s.style.display&&"hidden"!==s.style.visibility){var a=parseInt(s.getAttribute("data-exo-edge='".concat(e,"'")),10);isNaN(a)&&(a=this.getRawOffset(s,e)),t=Math.max(t,a)}}return t}},{key:"getRawOffset",value:function(e,t){var n=u(e),i=document.documentElement,o=0,s="left"===t||"right"===t,a=n.offset()[s?"left":"top"];switch(a-=window["scroll".concat(s?"X":"Y")]||document.documentElement["scroll".concat(s?"Left":"Top")]||0,t){case"top":o=a+n.outerHeight();break;case"left":o=a+n.outerWidth();break;case"bottom":o=i.clientHeight-a;break;case"right":o=i.clientWidth-a;break;default:o=0}return o}},{key:"event",value:function(e){return void 0!==this.events[e]?this.events[e].expose():null}}]),e}();s.ExoDisplace=new t;var i=setTimeout(function(){s.Exo.init(document.body)},1e3);if("undefined"!=typeof loadCSS){s.Exo.debug("log","Exo","Found loadCSS");var a=function(e){return e.replace("http://","").replace("https://","").split("/")[0]},r=u('link[rel="stylesheet"]').filter(function(e,t){return!(!location.href||!t.href)&&a(location.href)===a(t.href)});if(r.length){s.Exo.debug("log","Exo","Sheets to Load",r);var l=0;r.each(function(e,t){var n=u(t).prop("href");s.Exo.debug("log","Exo","Load",n),function(e,t){var n;function i(){!n&&t&&(n=!0,t.call(e))}e.addEventListener&&e.addEventListener("load",i);e.attachEvent&&e.attachEvent("onload",i);"isApplicationInstalled"in navigator&&"onloadcssdefined"in e&&e.onloadcssdefined(i)}(t,function(){++l==r.length&&(clearTimeout(i),s.Exo.init(document.body))})})}else clearTimeout(i),s.Exo.init(document.body)}else clearTimeout(i),s.behaviors.exo={attach:function(e){s.Exo.init(document.body),delete s.behaviors.exo}}}(jQuery,_,Drupal,Drupal.displace);