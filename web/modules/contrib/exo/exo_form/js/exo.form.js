"use strict";!function(a,r){var i,s;r.behaviors.exoForm={attach:function(e){i=a("form.exo-form:visible"),a(e).find(".exo-form .container-inline").removeClass("container-inline"),a(e).find(".exo-form .form--inline").removeClass("form--inline").addClass("exo-form-inline"),a(e).find(".exo-form-container-hide").each(function(){a(this).text().trim().length&&a(this).removeClass("exo-form-container-hide")}),a(e).find("td .dropbutton-wrapper").once("exo.form.td.dropbutton").each(function(e,o){setTimeout(function(){a(o).css("min-width",a(o).outerWidth())})}).parent().addClass("exo-form-table-compact"),a(e).find("table").once("exo.form.td.dropbutton").each(function(e,o){var t=a(o);t.outerWidth()>t.parent().outerWidth()+2&&t.wrap('<div class="exo-form-table-overflow" />')}),a(e).find("td > .exo-icon").once("exo.form.td.dropbutton").each(function(e,o){var t=a(o).parent();1===t.children(":not(.exo-icon-label)").length&&t.addClass("exo-form-table-compact")}),a(e).find(".exo-form .exo-form-inline").each(function(e,o){6<a(o).find("> .exo-form-element-js").length&&a(o).addClass("exo-form-inline-stack")}),i.filter(".exo-form-wrap").each(function(e,o){"<"!==a(o).html().trim()[0]&&a(o).addClass("exo-form-wrap-pad")}),a(e).find(".exo-form-vertical-tabs .vertical-tabs__menu-item a, .exo-form-horizontal-tabs .horizontal-tab-button a, .exo-form-element-type-details summary, .exo-form-container summary").once("exo.form.vertical-tabs").on("click",function(){r.behaviors.exoForm.processForm(a(this).closest(".exo-form"))}),a(e).find(".webform-tabs").once("exo.form.refresh").each(function(e){a(this).addClass("horizontal-tabs").wrap('<div class="exo-form-horizontal-tabs exo-form-element exo-form-element-js" />'),a(this).find(".item-list ul").addClass("horizontal-tabs-list").find("> li").addClass("horizontal-tab-button"),a(this).find("> .webform-tab").addClass("horizontal-tabs-pane").wrapAll('<div class="horizontal-tabs-panes" />')}).on("tabsbeforeactivate",function(e,o){o.oldPanel.hide(),o.newPanel.show()}),i.once("exo.form.watch").on("click",function(e){r.behaviors.exoForm.processForm()}).each(function(e,o){var t=a(o),n=t.closest("[data-exo-theme]");n.length&&t.removeClass(function(e,o){return(o.match(/(^|\s)exo-form-theme-\S+/g)||[]).join(" ")}).addClass("exo-form-theme-"+n.data("exo-theme"))}),i.each(function(){r.behaviors.exoForm.processForm()}),void 0!==r.ExoModal&&r.ExoModal.event("opening").on("exo.form",function(e){var o=e.getElement().find(".exo-form");o.length||(o=e.getElement().closest(".exo-form")),o.length&&setTimeout(function(){r.behaviors.exoForm.attach(e.getElement()[0])})})},processForm:function(o){clearTimeout(s);var t=r.Exo.isMobile();if(t){var e=a('meta[name="viewport"]');if(e.length){var n=e.attr("content");e.data("exo-viewport",n),e.attr("content",n+", maximum-scale=1")}}s=setTimeout(function(){if((o=o||i).find(".exo-form-hide").removeClass("exo-form-hide"),o.find(".exo-form-element-js > .exo-form-element-inner").each(function(e,o){a(o).closest(".exo-form-hide-exclude").length||a(o).find("> *:visible").length||a(o).parent().addClass("exo-form-hide")}),o.find(".exo-form-element-js:not(.messages)").each(function(e,o){a(o).closest(".exo-form-hide-exclude").length||(0==a(o).children().length?a(o).addClass("exo-form-hide"):0===a(o).innerHeight()&&a(o).addClass("exo-form-hide"))}),a(".exo-form-element-first",o).removeClass("exo-form-element-first"),a(".exo-form-element-last",o).removeClass("exo-form-element-last"),a(".fieldset-wrapper, .details-wrapper, .form-wrapper, .exo-modal-content",o).add(o).each(function(){var e=a(this),o=e.find("> .exo-form-element-js:not(.exo-form-element-first-exclude):visible:first"),t=e.find("> .exo-form-element-js:not(.exo-form-element-last-exclude):visible:last");o.length&&"<"===e.html().trim()[0]&&o.addClass("exo-form-element-first"),t.length&&t.last().addClass("exo-form-element-last")}),t){var e=a('meta[name="viewport"]');e.length&&e.attr("content",e.data("exo-viewport"))}})}},r.Exo.$document.on("state:disabled state:required state:visible state:checked state:collapsed",function(e){r.behaviors.exoForm.processForm()})}(jQuery,Drupal);