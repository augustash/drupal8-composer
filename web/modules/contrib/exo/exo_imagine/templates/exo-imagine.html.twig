{#
/**
 * @file
 * Default theme implementation to display a dynamic responsive image
 *
 * Available variables:
 * - url: An optional URL the image can be linked to.
 * - alt: The alt text for the image.
 * - attributes: attributes for the wrapper
 * - data: json encoded exo-image data object
 *
 * @see template_preprocess_exo-image_formatter()
 *
 * @ingroup themeable
 */
#}

{{ attach_library('exo_imagine/image') }}
<{{ tag }} {{ attributes }}>
  <picture{{ image_picture_attributes }}>
    {% if image_sources %}
      <!--[if IE 9]><video style="display: none;"><![endif]-->
      {% for source_attributes in image_sources %}
        <source{{ source_attributes }}/>
      {% endfor %}
      <!--[if IE 9]></video><![endif]-->
    {% endif %}
    <img {{ image_attributes }}/>
  </picture>
  <picture{{ preview_picture_attributes }}>
    {% if preview_sources %}
      <!--[if IE 9]><video style="display: none;"><![endif]-->
      {% for source_attributes in preview_sources %}
        <source{{ source_attributes }}/>
      {% endfor %}
      <!--[if IE 9]></video><![endif]-->
    {% endif %}
    <img {{ preview_attributes }}/>
  </picture>
</{{ tag }}>
