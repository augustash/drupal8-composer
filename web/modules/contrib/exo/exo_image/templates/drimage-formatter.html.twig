{#
/**
 * @file
 * Default theme implementation to display a dynamic responsive image
 *
 * Available variables:
 * - url: An optional URL the image can be linked to.
 * - width: The original width of the image.
 * - height: The original height of the image.
 * - alt: The alt text for the image.
 * - item_attributes: attributes for the wrapper
 * - data: json encoded drimage data object
 *
 * @see template_preprocess_drimage_formatter()
 *
 * @ingroup themeable
 */
#}

{{ attach_library('drimage/drimage') }}
<{{ tag }} {{ item_attributes }} data-drimage="{{ data|json_encode }}">
    {% if url %}
        {% spaceless %}
        <a href="{{ url }}">
            <img src="data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='{{ width }}' height='{{ height }}' viewBox='0 0 {{ width }} {{ height }}' %3E%3C/svg%3E" width="{{ width }}" height="{{ height }}" alt="{{ alt }}">
        </a>
        {% endspaceless %}
    {% else %}
        <img src="data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='{{ width }}' height='{{ height }}' viewBox='0 0 {{ width }} {{ height }}' %3E%3C/svg%3E" width="{{ width }}" height="{{ height }}" alt="{{ alt }}">
    {% endif %}
</{{ tag }}>
